##### Lesson 2: Binary classification models
- Logistic regression: 
    - Logit: most common
    - Probit
    - Log-log
    - * Remove variables that have too many categories within one predictor variable.
- Model comparision:
    - Accuracy, F1, AUC
    - Performance diagnostics plots:
        - Gain chart and Lift chart/curves: http://www2.cs.uregina.ca/~dbd/cs831/notes/lift_chart/lift_chart.html
        - Precision and recall curve: https://www.quora.com/What-is-Precision-Recall-PR-curve
        - ROC curve: https://www.dataschool.io/roc-curves-and-auc-explained/ 
        - ...
    - *In the example: regression + stepwise perform the best
- Variable Status has some classes that are not statistically significant. Keep in mind:
    - It is not possible to keep only part of a categorical variable
    - If NO class in a categorical variable is significant, then you may consider not using the variable at all.
    - If ANY class in a categorical variable is significant, then you should keep it.
    - A combination of classes in a categorical variable is possible with testing, but it should make logical sense though.
        - In this case Status.Gold is significant but Status.Silver & Status.Platinum are not. To create a Gold vs. Other does not make logical sense since Gold is between Silver and Platinum.
- Forest model results:
    - *Out of the bag* error rate: 
        - How well the model performed
        - How solid the model performs with estimation data (similar to R-squared)
    - Confusion matrix: 
        - How well the model performed
        - Where error occured in classifying data (any trend or bias?)
    - The Percentage Error for Different Number of Trees graph: determine the ideal number of trees.
    - Variable Importance graph: focuson which variables are most associated with the data.
- Boosted model:
    - Instead of creating a bunch of random trees, the boosted model makes one tree.It analyzes on the errors of the tree to identify the biggest source of error. Then it changes the tree to reduce that error and the it does the analysis again to find the next biggest error...
    - Both accurate AND fast.
    - Mathematical foundation: https://en.wikipedia.org/wiki/Gradient_boosting
- Boosted model results:
    - Variable importance plot
    - Number of iterations assessment plot:     
        - shows that amount of variance, or deviance, that is captured with more iterations. 
        - How many trees are needed to create the optimal result?
- Project:
    - Cleanup, format, and blend a wide range of data sources
    - Build predictive classification models using Logistic Regression, Decision Tree, Random Forest, and Boosted Model

##### Lesson 3: A/B test
- Eperimental variables: outcome
- Control variables: to make sure that 2 groups are as similar as possible
- Determine which control variables should be used:
    - List potential variables
    - Is variable data available
    - Logical connection between control and target variable
    - Test the correlation between the control and target variables
    - Test correlation between other correlation variable
- Lurking variable (confounding): can cause you to overweight a control variable or include the control variables that aren't important
- Randomized design: 
    - little opportunity to control variables, volume and velocity of data is high enough that you are not worried about bias.
    - groups are not predetermined.
    - choose duration and size: ensure control and treatment groups are representative of the population -> considering control variables.
    - t-test
- Matched pair: 
    - when the volume of observations is fairly low, great concern for bias, high cost per observation.
    - must be set up ahead of time.
    - can yield significant results even with a low number of treatment units.
    - One cycle of experiment
    - Choose the treatment units:
        - Identify outliers
        - Decide number of treatment units
        - Randomly select
    - Treatment units >=10. Sometimes when the treatment units are low, the experiment may need to be repeated or run for a longer period of time.
    - Choose the control units:
        - Matched pair
        - Alteryx: AB Controls tool using KD tree: connect treatment data to T, control data to D
        - Balance the number of control units and average distance
    - Analysis: paired t-test
    - Data cleanup stage:
        - scrubbing out any outliers
        - getting rid of stores with missing data
        - matching control stores to treatment stores
            - Numeric measures are needed in order to match them.
            - Two of the best measures: trend and seasonality.
        - selecting the appropriate comparable period
    - To accommodate discrete variables, the units need to be matched with those that share a discrete characteristic.
    - Problem solving framework: You may have to try different combinations to find variable that give you the best matching results.
    - Select continuous control variables: 2 commons
        - Trend: Growth in store traffic
        - Seasonal patterns: in sales volume
    - AB test tool in Alteryx need data duration of 1 year + 6 periods.
    - Consider how long to run the experiment: if customer go to the store for a weekly basis -> at least 1 week 
    - Assuming a customer visits the spa about once every ten weeks: 
        - how long should our experiment last (how many weeks should we collect data)? 10 weeks.
        - Based on the duration of our experiment, how many weeks of data should we have for our comparison period? 10 weeks.
        - How many weeks of historical data should we have? 1 year + 12 weeks = 64 weeks
        - Join tool in Alteryx: L output - control candidate stores, J output - treatment stores.
        - A/B Analysis tool: P input - performance data,  I ouput - HTML based interaction dashboard, O output - textual summary.

##### Time series forecasting
- ARISMA, ETS models.
- Order matters: dependency on time.
- Sequential and equal intervaxl measurement.
- One data point each time.
- Objectives:
    - Identify patterns.
    - Predict trends.
- Naive method: use data closest in time to predict.
    - If there is not enough data to create a predictive model, it can supplment forecasts for the near future.
- A trend cycle: uptrend, horizontal trend, downtrend.
- Seasonality: fixed period, associate with calendar. 
- Cyclical pattern: exists when data exhibits rises and falls not of a fixed period.
- Exponential Smoothing: ETS
    - Use weighted averages: more weight to the most recent observation.
    - ETS: Error, Trend, Seasonality. Each term can be applied either additively, multiplicatively, ...
    - [Time series decomposition plot.jpeg]
    - Additive model: when the trend and seasonal variation are relatively constant over time.
    - Multiplicative model: when they decrease or increase in magnitude over time.
    - [Trend for models.jpg], see more for plots of seasonal patterns in additive and multiplicative models.
    - If time series does not have a trend line and does not have seasonality component: *Simple Exponential Smoothing* model.
        - Forecast = Weight[t]*Y[t] + Weight[t-1]*Y[t-1] + Weight[t-2]*Y[t-2] + ... + α(1-α)^n Yn
        - The smoothing parameter α can be set for any value between 0 and 1.
        - Choosing the correct smoothing parameter is often an iterative process.
        - The simple exponential smoothing method does not account for any trend or seasonal components, rather, it only uses the decreasing weights to forecast future results. 
    - Double Exponential Smoothing (Holt's Linear Trend):
        - Additive
        - Include trend in calculation, not season
        - http://www.real-statistics.com/time-series-analysis/basic-time-series-forecasting/holt-linear-trend/
    - Exponential Trend Model: similar to Holt's Linear Trend with level and trend are applied multiplicatively.
    - Damped Trend Model: dampens the trend line into a flat line, some time into the future. Can apply in both additive and multiplicative calculation.
        - Can run a damped model and its original version side by side. Then check the forecasted errors to see which one fits time series better.
    - Holt-Winters Seasonal Method: all 3 components
        - Can be used with Damped parameters.
        - Most widely regarded methods for forecasting seasonal data.
        - Additive for trend.
        - Multiplicative and additive for seasonal components.
    - can generalize all of these models using a naming system for ETS: Error, Trend, Seasonality
        - for each component in the ETS system, we can assign None, Multiplicative, or Additive (or N, M, A) for each of the three components in our time series.
        - Examples: A time series model that has a constant error, linear trend, and increasing seasonal components means we would need to use an ETS model of: ETS(A,A,M)
    - Steps to building an ETS model: start off by determining how to apply the E, T, and S components based on your data. Then, you can create a holdout sample, build the model, and check the model’s forecast against the holdout sample.